# C51 扩展数据类型（bit、sbit、sfr、sfr16）

## 一、C51 扩展数据类型表

![C51 扩展数据类型表](/static/2023/2023-03-13-c51-extended-data-types_001.png)

## 二、位型

C51 扩展数据类型中主要有两种数据类型：

- **位型**：包括 bit 型和 sbit 型
- **特殊功能寄存器型**：包括 sfr 型和 sfr16 型

位类型数据用于访问 51 系列单片机中可以寻址的位，C51 中支持 bit 型和 sbit 型两种位型，它们在内存中只占有一个二进制位，值可以为 "0" 或者 "1"。

两种位型的区别在于：

- 用 **bit** 定义的位变量在 C51 编译器编译时，在不同的时候位地址是可以变化的
- 用 **sbit** 定义的位变量必须与 51 系列单片机的一个可以位寻址的字节单元中的某一位联系在一起，在 C51 编译器编译时，其对应的位地址是不可以变化的

## 三、寄存器型

寄存器类型数据，用于访问 51 系列单片机中的特殊功能寄存器中的数据，C51 中支持 sfr 和 sfr16 两种类型。

- **sfr**：为字节型特殊功能寄存器类型，占用 1 字节单元，利用它可以访问 51 单片机中所有的特殊功能寄存器
- **sfr16**：为双字节型特殊功能寄存器类型，占用 2 字节单元，利用它可以访问单片机中所有 2 字节的特殊功能寄存器

> **bit，sbit，sfr，sfr16 都用于单片机的 C 语言编程。**

| 类型 | 说明 | 定义格式 |
|------|------|----------|
| **bit** | 定义位变量，定义位变量时可以为变量赋值，但不能指定变量的地址 | `bit 变量名 = 变量值` |
| **sbit** | 此类型变量主要用于访问可位寻址的特殊功能寄存器中的某个位 | `sbit 变量名 = 位地址` 或 `sbit 变量名 = SFR地址^位序号` 或 `sbit 变量名 = sfr16变量^位序号` |
| **sfr** | 此类型变量可以访问指定的 8 位特殊功能寄存器，地址范围为 0x80~0xFF | `sfr 变量名 = 变量地址` |
| **sfr16** | 此类型的变量可访问 16 位特殊功能寄存器 | `sfr16 变量名 = 变量地址` |

> **注意**：sfr16 的变量地址为 16 位中的低 8 位地址，其地址范围为 0x80~0xFF。通过 sfr16 变量读 16 位特殊功能寄存器时，先读低字节，后读高字节；写特殊功能寄存器时先写高字节，后写低字节。
